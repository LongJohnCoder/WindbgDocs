<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN"><HTML DIR="LTR" xmlns:MSHelp="http://msdn.microsoft.com/MSHelp">
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<TITLE>Editing Boot Options in EFI</TITLE>
<META NAME="ms.locale" content="en-us">
<META NAME="DESCRIPTION" CONTENT="Debugger, DriverDevTools, Design Guide, Editing Boot Options in EFI"><xml><MSHelp:Keyword Index="A" Term="bootini_d949ecf2-fed1-419e-9bcf-a74e97b85813.xml"/>
<META NAME="MS-HKWD" CONTENT="NVRAM boot options [WDK], editing">
<META NAME="MS-HKWD" CONTENT="EFI NVRAM boot options [WDK], editing">
<META NAME="MS-HKWD" CONTENT="editing boot options">
<META NAME="MS-HKWD" CONTENT="Bootcfg tool">
<META NAME="MS-HKWD" CONTENT="Nvrboot tool">
<META NAME="MS-HKWD" CONTENT="editors [WDK boot options]">
<META NAME="MS-HKWD" CONTENT="viewing boot options">
<META NAME="MS-HKWD" CONTENT="NVRAM boot options [WDK], viewing">
<META NAME="MS-HKWD" CONTENT="EFI NVRAM boot options [WDK], viewing">
<META NAME="MS-HKWD" CONTENT="boot options [WDK], editing"></xml><LINK REL="stylesheet" type="text/css" href="backsdk4.css"><SCRIPT src="langref.js"></SCRIPT><style>dd {margin-bottom:0em; margin-left:1.9em; }</style>
<style>.divclass {behavior:url(#default#savehistory);}</style>
<META NAME="save" CONTENT="history">
</HEAD>
<Body topmargin="0">
<DIV STYLE="display:none;"></DIV>
<DIV STYLE="display:none;"></DIV>
<TABLE CLASS="buttonbarshade" CELLSPACING="0" border="0"><TR><TD NOWRAP="true"> </TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING="0">
<TR ID="hdr">
<TD NOWRAP="true" CLASS="runninghead">Debugging Tools for Windows</TD>
</TR>
</TABLE>
<H1><A NAME="bootini_d949ecf2-fed1-419e-9bcf-a74e97b85813.xml"></A>Editing Boot Options in EFI</H1>
<P>To edit boot options on computers with EFI NVRAM that are running Windows Server 2003 or earlier versions of NT-based Windows, use Bootcfg (bootcfg.exe), a tool that runs on Windows, or Nvrboot (nvrboot.efi), a tool that runs in the EFI environment. Both tools are included in the Windows XP 64-Bit Edition and the 64-bit version </P>
<P>You can also view and change some boot options in Control Panel under System. In the System Properties dialog box, on the Advanced tab, click Settings under <b>Startup and Recovery</b>. Because this functionality is limited, it is not discussed in this section. For information about the <b>Startup and Recovery</b> dialog box, see Help and Support Center.</P>
<H4>Bootcfg</H4>
<P>Bootcfg (bootcfg.exe) is a command-line tool that edits boot options on a local or remote computer Using the same Bootcfg commands and procedures, you can edit a <i>Boot.ini</i> file or the boot options in EFI NVRAM. Bootcfg is included in the %Systemroot%\System32 directory in Windows XP and Windows Server 2003. (The Bootcfg display is slightly different on systems that store boot options in EFI NVRAM, but the commands are the same.)</P>
<P>You can use Bootcfg to add, delete, and change the values of all valid boot options; however, you cannot set an indefinite time-out value. You can also use Bootcfg commands in a script or batch file to set boot options or to reset them after you replace or upgrade an operating system.</P>
<P>On systems that store boot options in EFI NVRAM, Bootcfg can also display the boot partition table, add boot entries for mirrored drives, and update the GUIDs for a system partition.</P>
<P>You must be a member of the Administrators group on the computer to use Bootcfg. For detailed instructions about using Bootcfg, see Help and Support Center.</P>
<H4>Nvrboot</H4>
<P>Nvrboot (nvrboot.efi) is an EFI-based boot entry editor included in Windows XP 64-Bit Edition and the 64-bit version   of later versions of Windows.  Nvrboot runs in the EFI environment. You cannot run Nvrboot while an operating system is running. </P>
<P>Nvrboot edits only boot entries. You cannot use it to display or change the time-out value for the boot menu, although, you can use the <i>push</i> command (<b>nvrboot p</b>) to change the default boot entry.</P>
<P>Nvrboot also includes commands to export backup copies of boot entries and to import backup copies of boot entries into NVRAM. This procedure is discussed in the <a href="bootini_cb905853-8c70-4c0f-8fa9-b058ba9d5560.xml.htm">Backing up Boot Options in EFI</a> section.</P>
<P>Nvrboot displays boot options in a user-friendly format. For example, it displays the operating system file path and the boot loader file path as a partition GUID followed by a Windows directory path.</P>
<P>The following procedure explains how to start Nvrboot from the EFI shell, a tool provided with many Itanium-based systems. Because the EFI shell tools vary among manufacturers, the description in this section might not accurately describe the EFI shell interface on a particular computer.</P><B>To run Nvrboot</B><OL type="1">
<LI>Reboot the computer.</LI>
<LI>From the <b>boot</b> menu, choose <b>EFI Shell</b>.</LI>
<LI>At the shell prompt, type the drive letter or file system number of the system partition, such as C: or <b>FS</b><i>n</i>, where <i>n</i> is the file system number of the system partition.</LI>
<LI>Type <b>cd msutil</b> to navigate to the Msutil directory where nvrboot.efi is located.</LI>
<LI>To start Nvrboot, type <b>nvrboot</b>.</LI>
</OL>
<P></P>
<P>To find instructions for Nvrboot, type <b>h</b>. </P>
<P></P>
<DIV style="display:yes"></DIV>
<DIV CLASS="footer"><br><A href="dbglegal.htm">© 2009 Microsoft Corporation</A><br><A href="mailto:windbgfb@microsoft.com?subject=documentation feedback [Debugger]: Editing Boot Options in EFI RELEASE: (December 09, 2009)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AThe WDK team uses the feedback submitted to improve the WDK documentation. We do not use your e-mail address for any other purpose. We will remove your e-mail address from our system after the issue you are reporting has been resolved. While we are working to resolve this issue, we may send you an e-mail message to request more information about your feedback. After the issues have been addressed, we may send you an e-mail message to let you know that your feedback has been addressed.%0A%0AFor more information about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx.
              ">Send feedback on this topic</A><br>Debugging Tools for Windows<br>December 09, 2009<br></DIV>
</Body>
</HTML>
