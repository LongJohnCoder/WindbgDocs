<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN"><HTML DIR="LTR" xmlns:MSHelp="http://msdn.microsoft.com/MSHelp">
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<TITLE>Using DumpChk</TITLE>
<META NAME="ms.locale" content="en-us">
<META NAME="DESCRIPTION" CONTENT="Debugger, Debugger, Design Guide, Using DumpChk"><xml><MSHelp:Keyword Index="A" Term="DumpChk_c1fa1f82-b37a-4c0c-afb2-cace86515c31.xml"/>
<META NAME="MS-HKWD" CONTENT="DumpChk, overview">
<META NAME="MS-HKWD" CONTENT="DumpChk, usage"></xml><LINK REL="stylesheet" type="text/css" href="backsdk4.css"><SCRIPT src="langref.js"></SCRIPT><style>dd {margin-bottom:0em; margin-left:1.9em; }</style>
<style>.divclass {behavior:url(#default#savehistory);}</style>
<META NAME="save" CONTENT="history">
</HEAD>
<Body topmargin="0">
<DIV STYLE="display:none;"></DIV>
<DIV STYLE="display:none;"></DIV>
<TABLE CLASS="buttonbarshade" CELLSPACING="0" border="0"><TR><TD NOWRAP="true"> </TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING="0">
<TR ID="hdr">
<TD NOWRAP="true" CLASS="runninghead">Debugging Tools for Windows</TD>
</TR>
</TABLE>
<H1><A NAME="DumpChk_c1fa1f82-b37a-4c0c-afb2-cace86515c31.xml"></A>Using DumpChk</H1>
<P>The syntax for DumpChk is as follows:</P>
<P style="cursor:text; padding:2pt,4pt;font: 100% Courier New, Courier, mono; color: #660000;"><nobr><b>DumpChk</b> [<b>-y</b> <i>SymbolPath</i>] <i>DumpFile</i> <BR><BR></nobr></P>
<P><i>DumpFile</i> specifies the crash dump file that is to be analyzed. <i>SymbolPath</i> specifies where DumpChk is to search for symbols.  Symbol information may be necessary for some dump files.  It can also help to improve the information shown in the dump file by allowing symbol names to be resolved.</P>
<P>For a complete description of the command-line options, see <a href="dumpchk_d661b04d-227c-4cc8-adb6-df97693a24d7.xml.htm">DumpChk Command-Line Options</a>.</P>
<H4>Examples</H4>
<P>Here is an example in which the dump file is corrupt.  The error shown at the end, <span style="cursor:text; font: 100% Courier New, Courier, mono; color: #660000;">DebugClient cannot open DumpFile</span>, indicates that some kind of corruption must have occurred:</P>
<P style="cursor:text; padding:2pt,4pt;font: 100% Courier New, Courier, mono; color: #660000;"><nobr>C:\Debuggers&gt; <b>dumpchk c:\mydir\dumpfile2.dmp</b> <BR><BR>Loading dump file c:\mydir\dumpfile2.dmp<BR><BR>Microsoft (R) Windows Debugger Version 6.9.0003.113 X86<BR>Copyright (c) Microsoft Corporation. All rights reserved.<BR><BR><BR>Loading Dump File [c:\mydir\dumpfile2.dmp]<BR>Could not match Dump File signature - invalid file format<BR>Could not open dump file [c:\mydir\dumpfile2.dmp], HRESULT 0x80004002<BR>    "No such interface supported"<BR>**** DebugClient cannot open DumpFile - error 80004002 <BR></nobr></P>
<P>Because this display does not end with the words <span style="cursor:text; font: 100% Courier New, Courier, mono; color: #660000;">Finished dump check</span>, the dump file is corrupt.  The error message at the end explains that the dump file could not be opened.</P>
<P>Note that other errors may be listed, some of which are actually benign.  For example, the following error message does not represent a problem:</P>
<P style="cursor:text; padding:2pt,4pt;font: 100% Courier New, Courier, mono; color: #660000;"><nobr>error 3 InitTypeRead( nt!_PEB at 7ffd5000) <BR></nobr></P>
<P>Here is an example of DumpChk run on a healthy user-mode minidump.  The display begins with an overall summary of the dump file, and then gives detailed information about what data is contained in the dump file:</P>
<P style="cursor:text; padding:2pt,4pt;font: 100% Courier New, Courier, mono; color: #660000;"><nobr>C:\Debuggers&gt; <b>dumpchk c:\mydir\dumpfile1.dmp</b> <BR><BR>Loading dump file c:\mydir\dumpfile1.dmp<BR><BR>Microsoft (R) Windows Debugger Version 6.9.0003.113 X86<BR>Copyright (c) Microsoft Corporation. All rights reserved.<BR><BR><BR>Loading Dump File [c:\mydir\dumpfile1.dmp]<BR>User Mini Dump File with Full Memory: Only application data is available<BR><BR>Symbol search path is: srv*C:\CODE\LocalStore*\\symbols\symbols<BR>Executable search path is: <BR>Windows Vista Version 6000 MP (2 procs) Free x86 compatible<BR>Product: WinNt, suite: SingleUserTS<BR>Debug session time: Tue Jun 17 02:28:23.000 2008 (GMT-7)<BR>System Uptime: 0 days 15:43:52.861<BR>Process Uptime: 0 days 0:00:26.000<BR>...<BR>This dump file has an exception of interest stored in it.<BR>The stored exception information can be accessed via .ecxr.<BR><BR>----- User Mini Dump Analysis<BR><BR>MINIDUMP_HEADER:<BR>Version         A793 (6903)<BR>NumberOfStreams 12<BR>Flags           1826<BR>                0002 MiniDumpWithFullMemory<BR>                0004 MiniDumpWithHandleData<BR>                0020 MiniDumpWithUnloadedModules<BR>                0800 MiniDumpWithFullMemoryInfo<BR>                1000 MiniDumpWithThreadInfo<BR><BR>Streams:<BR>Stream 0: type ThreadListStream (3), size 00000064, RVA 000001BC<BR>  2 threads<BR>  RVA 000001C0, ID 1738, Teb:000000007FFDF000<BR>  RVA 000001F0, ID 1340, Teb:000000007FFDE000<BR>Stream 1: type ThreadInfoListStream (17), size 0000008C, RVA 00000220<BR>  RVA 0000022C, ID 1738<BR>  RVA 0000026C, ID 1340<BR>Stream 2: type ModuleListStream (4), size 00000148, RVA 000002AC<BR>  3 modules<BR>  RVA 000002B0, 00400000 - 00438000: 'C:\CODE\TimeTest\Debug\TimeTest.exe'<BR>  RVA 0000031C, 779c0000 - 77ade000: 'C:\Windows\System32\ntdll.dll'<BR>  RVA 00000388, 76830000 - 76908000: 'C:\Windows\System32\kernel32.dll'<BR>Stream 3: type Memory64ListStream (9), size 00000290, RVA 00001D89<BR>  40 memory ranges<BR>  RVA 0x2019 BaseRva<BR>  range#    RVA      Address      Size<BR>       0 00002019    00010000   00010000<BR>       1 00012019    00020000   00005000<BR>       2 00017019    0012e000   00002000<BR><BR>     <i>(additional stream data deleted)   </i><BR><BR>Stream 9: type UnusedStream (0), size 00000000, RVA 00000000<BR>Stream 10: type UnusedStream (0), size 00000000, RVA 00000000<BR>Stream 11: type UnusedStream (0), size 00000000, RVA 00000000<BR><BR><BR>Windows Vista Version 6000 MP (2 procs) Free x86 compatible<BR>Product: WinNt, suite: SingleUserTS<BR>kernel32.dll version: 6.0.6000.16386 (vista_rtm.061101-2205)<BR>Debug session time: Tue Jun 17 02:28:23.000 2008 (GMT-7)<BR>System Uptime: 0 days 15:43:52.861<BR>Process Uptime: 0 days 0:00:26.000<BR>  Kernel time: 0 days 0:00:00.000<BR>  User time: 0 days 0:00:00.000<BR>PEB at 7ffd9000<BR>    InheritedAddressSpace:    No<BR>    ReadImageFileExecOptions: No<BR>    BeingDebugged:            Yes<BR>    ImageBaseAddress:         00400000<BR>    Ldr                       77a85d00<BR>    Ldr.Initialized:          Yes<BR>    Ldr.InInitializationOrderModuleList: 002c1e30 . 002c2148<BR>    Ldr.InLoadOrderModuleList:           002c1da0 . 002c2138<BR>    Ldr.InMemoryOrderModuleList:         002c1da8 . 002c2140<BR>            Base TimeStamp                     Module<BR>          400000 47959d85 Jan 21 23:38:45 2008 C:\CODE\TimeTest\Debug\TimeTest.exe<BR>        779c0000 4549bdc9 Nov 02 02:43:37 2006 C:\Windows\system32\ntdll.dll<BR>        76830000 4549bd80 Nov 02 02:42:24 2006 C:\Windows\system32\kernel32.dll<BR>    SubSystemData:     00000000<BR>    ProcessHeap:       002c0000<BR>    ProcessParameters: 002c14c0<BR>    WindowTitle:  'C:\CODE\TimeTest\Debug\TimeTest.exe'<BR>    ImageFile:    'C:\CODE\TimeTest\Debug\TimeTest.exe'<BR>    CommandLine:  '\CODE\TimeTest\Debug\TimeTest.exe'<BR>    DllPath:      'C:\CODE\TimeTest\Debug;C:\Windows\system32;C:\Windows\system;<BR>    Environment:  002c0808<BR>        =C:=C:\CODE<BR>        =ExitCode=00000000<BR>        ALLUSERSPROFILE=C:\ProgramData<BR>        AVENGINE=C:\PROGRA~1\CA\SHARED~1\SCANEN~1<BR>        CommonProgramFiles=C:\Program Files\Common Files<BR>        COMPUTERNAME=EMNET<BR>        ComSpec=C:\Windows\system32\cmd.exe<BR>        configsetroot=C:\Windows\ConfigSetRoot<BR>        FP_NO_HOST_CHECK=NO<BR>        HOMEDRIVE=C:<BR>        NUMBER_OF_PROCESSORS=2<BR>        OS=Windows_NT<BR>        Path=C:\DTFW\200804~2.113\winext\arcade;C:\Windows\system32<BR>        PATHEXT=.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC<BR>        PROCESSOR_ARCHITECTURE=x86<BR>        PROCESSOR_IDENTIFIER=x86 Family 6 Model 15 Stepping 13, GenuineIntel<BR>        PROCESSOR_LEVEL=6<BR>        PROCESSOR_REVISION=0f0d<BR>        ProgramData=C:\ProgramData<BR>        ProgramFiles=C:\Program Files<BR>        PROMPT=$P$G<BR>        PUBLIC=C:\Users\Public<BR>        RoxioCentral=C:\Program Files\Common Files\Roxio Shared\9.0\Roxio Central33\<BR>        SESSIONNAME=Console<BR>        SystemDrive=C:<BR>        SystemRoot=C:\Windows<BR>        USERDNSDOMAIN=NORTHSIDE.COMPANY.COM<BR>        USERDOMAIN=NORTHSIDE<BR>        USERNAME=myname<BR>        USERPROFILE=C:\Users\myname<BR>        WINDBG_DIR=C:\DTFW\200804~2.113<BR>        windir=C:\Windows<BR>        WINLAYTEST=200804~2.113<BR>        _NT_SOURCE_PATH=C:\mysources<BR>        _NT_SYMBOL_PATH=C:\mysymbols<BR>Finished dump check<BR></nobr></P>
<P></P>
<P>The output begins by identifying the characteristics of the dump file &#8209; in this case, a user-mode minidump with full memory information, including application data but not operating-system data. This is followed by the symbol path being used by DumpChk, and then a summary of the dump file contents. </P>
<P>Because this display ends with the words <span style="cursor:text; font: 100% Courier New, Courier, mono; color: #660000;">Finished dump check</span>, the dump file is probably not corrupt, and can be opened by a debugger. However, more subtle forms of corrruption might still be present in the file.</P>
<P></P>
<DIV style="display:yes"></DIV>
<DIV CLASS="footer"><br><A href="dbglegal.htm">© 2009 Microsoft Corporation</A><br><A href="mailto:windbgfb@microsoft.com?subject=documentation feedback [Debugger]: Using DumpChk RELEASE: (December 09, 2009)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AThe WDK team uses the feedback submitted to improve the WDK documentation. We do not use your e-mail address for any other purpose. We will remove your e-mail address from our system after the issue you are reporting has been resolved. While we are working to resolve this issue, we may send you an e-mail message to request more information about your feedback. After the issues have been addressed, we may send you an e-mail message to let you know that your feedback has been addressed.%0A%0AFor more information about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx.
              ">Send feedback on this topic</A><br>Debugging Tools for Windows<br>December 09, 2009<br></DIV>
</Body>
</HTML>
