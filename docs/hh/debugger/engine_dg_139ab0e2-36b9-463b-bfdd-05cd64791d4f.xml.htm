<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN"><HTML DIR="LTR" xmlns:MSHelp="http://msdn.microsoft.com/MSHelp">
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<TITLE>Controlling Breakpoint Flags and Parameters</TITLE>
<META NAME="ms.locale" content="en-us">
<META NAME="DESCRIPTION" CONTENT="Debugger, Debugger, Design Guide, Controlling Breakpoint Flags and Parameters"><xml><MSHelp:Keyword Index="A" Term="Engine_DG_139ab0e2-36b9-463b-bfdd-05cd64791d4f.xml"/>
<META NAME="MS-HKWD" CONTENT="breakpoints, flags and parameters">
<META NAME="MS-HKWD" CONTENT="DEBUG_BREAK_READ">
<META NAME="MS-HKWD" CONTENT="DEBUG_BREAK_WRITE">
<META NAME="MS-HKWD" CONTENT="DEBUG_BREAK_EXECUTE">
<META NAME="MS-HKWD" CONTENT="DEBUG_BREAK_IO"></xml><LINK REL="stylesheet" type="text/css" href="backsdk4.css"><SCRIPT src="langref.js"></SCRIPT><style>dd {margin-bottom:0em; margin-left:1.9em; }</style>
<style>.divclass {behavior:url(#default#savehistory);}</style>
<META NAME="save" CONTENT="history">
</HEAD>
<Body topmargin="0">
<DIV STYLE="display:none;"></DIV>
<DIV STYLE="display:none;"></DIV>
<TABLE CLASS="buttonbarshade" CELLSPACING="0" border="0"><TR><TD NOWRAP="true"> </TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING="0">
<TR ID="hdr">
<TD NOWRAP="true" CLASS="runninghead">Debugging Tools for Windows</TD>
</TR>
</TABLE>
<H1><A NAME="Engine_DG_139ab0e2-36b9-463b-bfdd-05cd64791d4f.xml"></A>Controlling Breakpoint Flags and Parameters</H1>
<P>There are a number of methods that can be used to determine basic information about breakpoints:</P><B></B><UL type="disc">
<LI><a href="comother_408e8e80-f34e-4895-9bae-66dbb0f9aa97.xml.htm"><b>GetId</b></a> returns the breakpoint ID.</LI>
<LI><a href="comother_3305c400-f816-463b-a643-4495bf546460.xml.htm"><b>GetType</b></a> returns the breakpoint type (software or processor) and the type of the <a href="dbg_glossary_c8f901be-266c-4f04-9680-7b04c121f308.xml.htm#ba5af89e-695c-44ee-98cc-bdb218ce8d1c">effective processor</a> on which the breakpoint is set.</LI>
<LI><a href="comother_069dfd81-8ad8-4fe7-95c4-a3499c1b5512.xml.htm"><b>GetAdder</b></a> returns the <a href="dbg_glossary_b06af58a-5ee8-44e1-855d-951cac7e4969.xml.htm#ebdc9536-c283-4bb5-b572-c30c8c8acd51">client</a> that added the breakpoint.</LI>
<LI><a href="comother_020a92c1-effa-4b14-9198-153641401e46.xml.htm"><b>GetOffset</b></a> returns the address of a breakpoint.</LI>
<LI><a href="comother_08bb15b2-f37d-4bd2-b19a-899ab9293f4a.xml.htm"><b>GetOffsetExpression</b></a> returns the expression string that specifies the location of the breakpoint.</LI>
</UL>
<P>In addition to its location and breakpoint type, a breakpoint has several parameters controlling its behavior.</P>
<P>Breakpoint parameters can be controlled through a variety of specific methods. In addition, most of the parameters may be queried together using <a href="comother_1e2f7a47-0f38-492a-a8b2-9eaa124a2f20.xml.htm"><b>GetParameters</b></a>.</P>
<H4>Breakpoint Flags</H4>
<P>Breakpoint flags are one kind of breakpoint parameters.</P>
<P>Breakpoint flags can be queried using <a href="comother_5898a703-87fb-4d47-9d06-026783243e10.xml.htm"><b>GetFlags</b></a>. They can be changed by using <a href="comother_2becec27-600b-4d57-93b0-8a794ff2f068.xml.htm"><b>AddFlags</b></a>, <a href="comother_15793582-5533-4f63-8278-9556b160e6d2.xml.htm"><b>RemoveFlags</b></a>, or <a href="comother_0fb1a5d9-2c1f-4966-9838-e7d0ae17a43f.xml.htm"><b>SetFlags</b></a>.</P>
<P>Breakpoint flags form a bit field.  The possible flags that can be used in this bit field, and their meanings, are as follows:</P>
<DL><DT>DEBUG_BREAKPOINT_ENABLED</DT>
<DD>When this flag is set, the breakpoint is <i>enabled</i> and will have its normal effect.  When this flag is not set, the breakpoint is <i>disabled</i> and will not have any effect.  If you wish to temporarily deactivate a breakpoint, you can remove this flag; it is then easy to add this flag back when you want to re-enable this breakpoint.</DD>
<DT>DEBUG_BREAKPOINT_ADDER_ONLY</DT>
<DD>When this flag is set, the breakpoint is a <i>private breakpoint</i>.  This breakpoint is visible only to the <a href="dbg_glossary_b06af58a-5ee8-44e1-855d-951cac7e4969.xml.htm#ebdc9536-c283-4bb5-b572-c30c8c8acd51">client</a> that added it.  In this case, other clients will not be able to query the <a href="dbg_glossary_e3f0f980-4b88-4e00-934b-0443c9640c06.xml.htm#cc3d62e3-661f-4077-bb5b-189750153eae">engine</a> for the breakpoint, and the engine will not send events generated by the breakpoint to other clients.  All callbacks (<a href="dbg_glossary_c8f901be-266c-4f04-9680-7b04c121f308.xml.htm#b82b8e27-44ea-4267-932f-0ed8f937939c">event</a> and <a href="dbg_glossary_bd74f9e2-0647-457f-b229-a732edd24da4.xml.htm#ee29b70e-9ee5-4f78-81f7-d86e41b0969b">output</a>) related to this breakpoint will be sent only to this client.  See <a href="comother_069dfd81-8ad8-4fe7-95c4-a3499c1b5512.xml.htm"><b>GetAdder</b></a>.</DD>
<DT>DEBUG_BREAKPOINT_GO_ONLY</DT>
<DD>When this flag is set, the breakpoint will only be triggered if the <a href="dbg_glossary_4146d166-2a62-4d54-90b7-5cdadb272bf0.xml.htm#97fed5e2-80ad-4319-91e6-e2e000fbcbd6">target</a> is in unrestricted execution.  It will not be triggered if the engine is stepping through instructions in the target.  </DD>
<DT>DEBUG_BREAKPOINT_ONE_SHOT</DT>
<DD>When this flag is set, the breakpoint will automatically remove itself the first time it is triggered.</DD>
<DT>DEBUG_BREAKPOINT_DEFERRED</DT>
<DD>When this flag is set, the breakpoint is <i>deferred</i>. This flag is set by the engine when the offset of the breakpoint is specified using a symbolic expression, and the engine cannot evaluate the expression.  Every time a <a href="dbg_glossary_60cfce96-a40c-4a82-a856-dceb8d5fe3c2.xml.htm#c125f2f6-a5ce-419a-98de-c9331ca0e56d">module</a> is loaded or unleaded in the target, the engine will attempt reevaluate the expression for all breakpoints whose location is specified using an expression.  Those that cannot be evaluated are flagged as deferred.  <i>This flag cannot be modified by any client.</i></DD>
</DL>
<H4>Other Breakpoint Parameters</H4>
<P>Breakpoint parameters also include:</P>
<DL><DT><i>Pass count</i></DT>
<DD>If the breakpoint has a pass count associated with it, it will not be activated until the target has passed the breakpoint the specified number of times.  The pass count that was originally set can be found by using <a href="comother_bf916108-efd7-436f-a89e-a26826e2e258.xml.htm"><b>GetPassCount</b></a>. The number of times remaining that the engine will pass the breakpoint before it is activated can be found using <a href="comother_b9308489-679e-4ced-bd73-84cbeaadc669.xml.htm"><b>GetCurrentPassCount</b></a>. The pass count can be reset to a new value by using <a href="comother_8398fd11-1821-4adb-b8be-4e207b616169.xml.htm"><b>SetPassCount</b></a>.</DD>
<DT><i>Match thread</i></DT>
<DD>If the breakpoint has a <a href="dbg_glossary_4146d166-2a62-4d54-90b7-5cdadb272bf0.xml.htm#a5a5985a-10e6-4a13-8a11-d9935f5661b9">thread</a> associated with it, it will be ignored by the engine when it is encountered by any other thread.  The thread can be found by using <a href="comother_6a9afca5-8445-48d9-8e28-8d38e6cf2658.xml.htm"><b>GetMatchThreadId</b></a>, and can be changed by using <a href="comother_5100cd0c-7d69-4210-9d32-ca1e9bd321aa.xml.htm"><b>SetMatchThreadId</b></a>.</DD>
<DT><i>Command</i></DT>
<DD>The breakpoint may have a command associated with it.  The command is executed when the breakpoint is activated.  This command can be found by using <a href="comother_4bb08d44-5a99-4177-b8a4-8926f1e45dcf.xml.htm"><b>GetCommand</b></a>, and can be changed by using <a href="comother_166ee15d-c9e1-466f-9337-a6d20e9355ee.xml.htm"><b>SetCommand</b></a>.</DD>
<DT><i>Size</i></DT>
<DD>If the breakpoint is a processor breakpoint, it must have a specified size.  This determines the size of the block of memory whose access will activate the breakpoint &#8212; the beginning of the block is the breakpoint's location.  The size  can be found by using <a href="comother_297fe316-4a1a-476b-a804-056bb56b6e77.xml.htm"><b>GetDataParameters</b></a>, and can be changed by using <a href="comother_250724e6-5ae3-4755-87de-3804e4e6f4ed.xml.htm"><b>SetDataParameters</b></a>.</DD>
<DT><i>Access type</i></DT>
<DD>If the breakpoint is a processor breakpoint, it must have an access type.  This determines the type of access that will activate the breakpoint.  For example, the breakpoint may be activated if the target reads from, writes to, or executes the memory specified by the breakpoint.  The access type can be found by using <a href="comother_297fe316-4a1a-476b-a804-056bb56b6e77.xml.htm"><b>GetDataParameters</b></a>, and can be changed by using <a href="comother_250724e6-5ae3-4755-87de-3804e4e6f4ed.xml.htm"><b>SetDataParameters</b></a>.</DD>
</DL>
<P></P>
<P></P>
<P></P>
<H3><A NAME="317ec7de-2f16-437f-9768-6c3f4258d8bd"></A>Valid Parameters for Processor Breakpoints</H3>
<P>The following access types are available for processor breakpoints:</P><B></B><table>
<TR valign="top">
<TH Width="">Value</TH>
<TH Width="">Description</TH>
</TR>
<TR valign="top">
<TD Width="">DEBUG_BREAK_READ</TD>
<TD Width="">The breakpoint will be triggered when the CPU reads memory in the breakpoint's memory block.</TD>
</TR>
<TR valign="top">
<TD Width="">DEBUG_BREAK_WRITE</TD>
<TD Width="">The breakpoint will be triggered when the CPU writes memory in the breakpoint's memory block.</TD>
</TR>
<TR valign="top">
<TD Width="">DEBUG_BREAK_READ<BR> <b>|</b> DEBUG_BREAK_WRITE</TD>
<TD Width="">The breakpoint will be triggered when the CPU reads or writes memory in the breakpoint's memory block.</TD>
</TR>
<TR valign="top">
<TD Width="">DEBUG_BREAK_EXECUTE</TD>
<TD Width="">The breakpoint will be triggered when the CPU fetches the instruction in the breakpoint's memory block.</TD>
</TR>
<TR valign="top">
<TD Width="">DEBUG_BREAK_IO</TD>
<TD Width="">The breakpoint will be triggered when the I/O port in the breakpoints memory block is accessed.  <i>(Windows XP and Microsoft</i>®<i> Windows Server</i>&#8482;<i> 2003 only, kernel mode only, x86 only)</i></TD>
</TR>
</table>
<P></P>
<P>Not all access types and sizes are supported on all processors.  The following access types and sizes are supported:</P>
<DL><DT>x86</DT>
<DD>All access types are supported.  DEBUG_BREAK_READ behaves like DEBUG_BREAK_READ | DEBUG_BREAK_WRITE.  The size must be 1, 2, or 4.  The breakpoint's address must be a multiple of the size.</DD>
<DT>x64</DT>
<DD>All access types are supported.  DEBUG_BREAK_READ behaves like DEBUG_BREAK_READ | DEBUG_BREAK_WRITE.  The size must be 1, 2, 4, or 8.  The breakpoint's address must be a multiple of the size.</DD>
<DT>Itanium</DT>
<DD>All access types except DEBUG_BREAK_IO are supported.  The size must be a power of two; for DEBUG_BREAK_EXECUTE, the size must be 16.  The breakpoint's address must be a multiple of the size.</DD>
<DT>Itanium running in x86 mode</DT>
<DD>The is the same as for x86, except that DEBUG_BREAK_IO is not supported.</DD>
</DL>
<DIV style="display:yes"></DIV>
<DIV CLASS="footer"><br><A href="dbglegal.htm">© 2009 Microsoft Corporation</A><br><A href="mailto:windbgfb@microsoft.com?subject=documentation feedback [Debugger]: Controlling Breakpoint Flags and Parameters RELEASE: (December 09, 2009)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AThe WDK team uses the feedback submitted to improve the WDK documentation. We do not use your e-mail address for any other purpose. We will remove your e-mail address from our system after the issue you are reporting has been resolved. While we are working to resolve this issue, we may send you an e-mail message to request more information about your feedback. After the issues have been addressed, we may send you an e-mail message to let you know that your feedback has been addressed.%0A%0AFor more information about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx.
              ">Send feedback on this topic</A><br>Debugging Tools for Windows<br>December 09, 2009<br></DIV>
</Body>
</HTML>
