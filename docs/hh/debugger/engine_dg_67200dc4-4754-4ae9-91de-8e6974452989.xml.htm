<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN"><HTML DIR="LTR" xmlns:MSHelp="http://msdn.microsoft.com/MSHelp">
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<TITLE>Event Information</TITLE>
<META NAME="ms.locale" content="en-us">
<META NAME="DESCRIPTION" CONTENT="Debugger, Debugger, Design Guide, Event Information"><xml><MSHelp:Keyword Index="A" Term="Engine_DG_67200dc4-4754-4ae9-91de-8e6974452989.xml"/></xml><LINK REL="stylesheet" type="text/css" href="backsdk4.css"><SCRIPT src="langref.js"></SCRIPT><style>dd {margin-bottom:0em; margin-left:1.9em; }</style>
<style>.divclass {behavior:url(#default#savehistory);}</style>
<META NAME="save" CONTENT="history">
</HEAD>
<Body topmargin="0">
<DIV STYLE="display:none;"></DIV>
<DIV STYLE="display:none;"></DIV>
<TABLE CLASS="buttonbarshade" CELLSPACING="0" border="0"><TR><TD NOWRAP="true"> </TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING="0">
<TR ID="hdr">
<TD NOWRAP="true" CLASS="runninghead">Debugging Tools for Windows</TD>
</TR>
</TABLE>
<H1><A NAME="Engine_DG_67200dc4-4754-4ae9-91de-8e6974452989.xml"></A>Event Information</H1>
<P>Whenever a <a href="dbg_glossary_e3f0f980-4b88-4e00-934b-0443c9640c06.xml.htm#92258fee-c7c3-423c-af60-ab4583902c9b">debugging session</a> is <a href="dbg_glossary_f75f2990-56bc-4632-bcba-2e994cbb39af.xml.htm#2d32ad4b-74a0-4e63-adc1-3821143d25aa">accessible</a>, there is a <i>last event</i>.  This is the <a href="dbg_glossary_c8f901be-266c-4f04-9680-7b04c121f308.xml.htm#5fd797d1-51e0-444c-bc98-94c230c53a52">event</a> that caused the session to become accessible.  The <i>event target</i> is the <a href="dbg_glossary_4146d166-2a62-4d54-90b7-5cdadb272bf0.xml.htm#97fed5e2-80ad-4319-91e6-e2e000fbcbd6">target</a> which generated the last event.  When the session becomes accessible, the <a href="dbg_glossary_b06af58a-5ee8-44e1-855d-951cac7e4969.xml.htm#2a8fdab1-9104-4107-b188-c3879a3c4a66">current target</a> is set to the event target.  The details of the last event are returned by <a href="idebugcontrol_4016bdce-0386-4c6f-9039-9a4046f3805b.xml.htm"><b>GetLastEventInformation</b></a>.  The instruction pointer for the last event and the memory at the instruction pointer when the event occurred are returned by the <a href="idebugadvanced_8fbf249e-5550-42c0-b16d-d42aaa4de660.xml.htm"><b>Request</b></a> operations <a href="idebugadvanced_e8f2931c-b213-4245-9648-53fe7384ef3d.xml.htm">DEBUG_REQUEST_GET_CAPTURED_EVENT_CODE_OFFSET</a> and <a href="idebugadvanced_11e6e4c8-5045-4e46-8fae-3a1198eb6c29.xml.htm">DEBUG_REQUEST_READ_CAPTURED_EVENT_CODE_STREAM</a>.</P>
<P>If the target is a <a href="dbg_glossary_b06af58a-5ee8-44e1-855d-951cac7e4969.xml.htm#d02ecf5e-605d-42e2-9aea-a3ea60e2defb">crash dump file</a>, the <i>last event</i> is the last event that occurred before the dump file was created.  This event is stored in the dump file and the engine generates it for the <a href="dbg_glossary_c8f901be-266c-4f04-9680-7b04c121f308.xml.htm#b82b8e27-44ea-4267-932f-0ed8f937939c">event callbacks</a> when the dump file is acquired as a debugging target.</P>
<P>If the target is a <a href="dbg_glossary_25516462-f653-424b-9a0c-f6d3ca1bb457.xml.htm#4b2be502-8e1f-4b9a-9e8d-54729c1f7860">kernel-mode target</a> and a <a href="dbg_glossary_68c9117f-3b66-4505-b633-9f0fd8c1a981.xml.htm#e61a9a8d-e7fc-41be-9614-0ba8da7e1a4a">bug check</a> occurred, the <a href="dbg_glossary_68c9117f-3b66-4505-b633-9f0fd8c1a981.xml.htm#f30154fb-999c-411b-84e4-bd4a11326afb">bug check code</a> and related parameters can be found using <a href="idebugcontrol_d96bd559-1a82-4d5d-8aa8-7a32242f2b68.xml.htm"><b>ReadBugCheckData</b></a>.</P>
<P>If the target is a user-mode Minidump, the dump file generator may store an additional event.  Typically, this is the event that provoked the generator to save the dump file.  Details of this event are returned by <a href="idebugcontrol_2d615fc9-52f1-4169-9265-430a1ce0f940.xml.htm"><b>GetStoredEventInformation</b></a> and the <a href="idebugadvanced_8fbf249e-5550-42c0-b16d-d42aaa4de660.xml.htm"><b>Request</b></a> operations <a href="idebugadvanced_cadf4646-f771-4367-b8bd-7c8cdb6e17d6.xml.htm">DEBUG_REQUEST_TARGET_EXCEPTION_CONTEXT</a>, <a href="idebugadvanced_2ac92008-4ff7-456c-a765-180938c0a2d4.xml.htm">DEBUG_REQUEST_TARGET_EXCEPTION_THREAD</a>, and <a href="idebugadvanced_7b4ab40a-ff45-4355-8a9c-f2295f77380d.xml.htm">DEBUG_REQUEST_TARGET_EXCEPTION_RECORD</a>.  </P>
<P>Dump files may contain a static list of events.  Each event represents a snapshot of the target at a particular point in time.  The number of events in this list is returned by <a href="idebugcontrol_520cbec0-e8b3-49d1-9938-a8f496585758.xml.htm"><b>GetNumberEvents</b></a>.  For a description of each event in the list, use <a href="idebugcontrol_53afcbab-2b43-4b99-9b87-050fce6d495b.xml.htm"><b>GetEventIndexDescription</b></a>.  To set an event from this list as the current event, use the method <a href="idebugcontrol_9a902b9c-c621-4d71-bae7-d3fd288b1cd8.xml.htm"><b>SetNextEventIndex</b></a>; after calling <a href="idebugcontrol_19a7d8b3-1f16-400e-bf8f-c782d48b2cf5.xml.htm"><b>WaitForEvent</b></a>, the event becomes the current event.  To determine which event in the list is the current event, use <a href="idebugcontrol_7aec300e-651e-46c6-a4e7-d4ed2b9ca674.xml.htm"><b>GetCurrentEventIndex</b></a>.</P>
<DIV style="display:yes"></DIV>
<DIV CLASS="footer"><br><A href="dbglegal.htm">© 2009 Microsoft Corporation</A><br><A href="mailto:windbgfb@microsoft.com?subject=documentation feedback [Debugger]: Event Information RELEASE: (December 09, 2009)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AThe WDK team uses the feedback submitted to improve the WDK documentation. We do not use your e-mail address for any other purpose. We will remove your e-mail address from our system after the issue you are reporting has been resolved. While we are working to resolve this issue, we may send you an e-mail message to request more information about your feedback. After the issues have been addressed, we may send you an e-mail message to let you know that your feedback has been addressed.%0A%0AFor more information about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx.
              ">Send feedback on this topic</A><br>Debugging Tools for Windows<br>December 09, 2009<br></DIV>
</Body>
</HTML>
