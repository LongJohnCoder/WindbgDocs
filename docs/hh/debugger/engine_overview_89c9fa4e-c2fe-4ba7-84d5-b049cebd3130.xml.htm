<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN"><HTML DIR="LTR" xmlns:MSHelp="http://msdn.microsoft.com/MSHelp">
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<TITLE>Threads and Processes</TITLE>
<META NAME="ms.locale" content="en-us">
<META NAME="DESCRIPTION" CONTENT="Debugger, Debugger, Design Guide, Threads and Processes"><xml><MSHelp:Keyword Index="A" Term="Engine_Overview_89c9fa4e-c2fe-4ba7-84d5-b049cebd3130.xml"/>
<META NAME="MS-HKWD" CONTENT="Debugger Engine, threads and processes"></xml><LINK REL="stylesheet" type="text/css" href="backsdk4.css"><SCRIPT src="langref.js"></SCRIPT><style>dd {margin-bottom:0em; margin-left:1.9em; }</style>
<style>.divclass {behavior:url(#default#savehistory);}</style>
<META NAME="save" CONTENT="history">
</HEAD>
<Body topmargin="0">
<DIV STYLE="display:none;"></DIV>
<DIV STYLE="display:none;"></DIV>
<TABLE CLASS="buttonbarshade" CELLSPACING="0" border="0"><TR><TD NOWRAP="true"> </TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING="0">
<TR ID="hdr">
<TD NOWRAP="true" CLASS="runninghead">Debugging Tools for Windows</TD>
</TR>
</TABLE>
<H1><A NAME="Engine_Overview_89c9fa4e-c2fe-4ba7-84d5-b049cebd3130.xml"></A>Threads and Processes</H1>
<H4>Terminology</H4>
<P>Thread and a process concepts are different between <a href="dbg_glossary_fa191f80-14a9-47a0-bf4a-13d29c85162b.xml.htm#1a7518e7-05c9-4be8-baf0-63b4024f4e30">user-mode debugging</a> and <a href="dbg_glossary_25516462-f653-424b-9a0c-f6d3ca1bb457.xml.htm#714fb29e-5a07-45f9-99e8-e3f319e69c2f">kernel-mode debugging</a>.</P><B></B><UL type="disc">
<LI><i>In user-mode debugging</i>, a <i>process</i> is an operating system process and a <i>thread</i> is an operating system thread.</LI>
<LI><i>In kernel-mode debugging</i>, the <a href="dbg_glossary_e3f0f980-4b88-4e00-934b-0443c9640c06.xml.htm#cc3d62e3-661f-4077-bb5b-189750153eae">debugger engine</a> creates a <i>virtual process</i> for each <a href="dbg_glossary_4146d166-2a62-4d54-90b7-5cdadb272bf0.xml.htm#97fed5e2-80ad-4319-91e6-e2e000fbcbd6">target</a>; this process represents the kernel and does not correspond to any operating system process.  For each physical processor in the target computer, the debugger creates a <i>virtual thread</i>; these threads represent the processors and do not correspond to any operating system threads.</LI>
</UL>
<P>When an <a href="dbg_glossary_c8f901be-266c-4f04-9680-7b04c121f308.xml.htm#5fd797d1-51e0-444c-bc98-94c230c53a52">event</a> occurs, the engine sets the <i>event process</i> and <i>event thread</i> to the process and thread (operating system or virtual) in which the event occurred.</P>
<P>The <i>current thread</i> is the thread (operating system or virtual) that the engine is currently controlling.  The <i>current process</i> is the process (operating system or virtual) that the engine is currently controlling.  When an event occurs, the current thread and process are initially set to the event thread and process; but, they can be changed using the <a href="dbg_glossary_b06af58a-5ee8-44e1-855d-951cac7e4969.xml.htm#ebdc9536-c283-4bb5-b572-c30c8c8acd51">clients</a> while the <a href="dbg_glossary_e3f0f980-4b88-4e00-934b-0443c9640c06.xml.htm#92258fee-c7c3-423c-af60-ab4583902c9b">session</a> is <a href="dbg_glossary_f75f2990-56bc-4632-bcba-2e994cbb39af.xml.htm#2d32ad4b-74a0-4e63-adc1-3821143d25aa">accessible</a>.</P>
<P>In kernel mode, the debugger keeps track of an implicit process and implicit thread.  The <i>implicit process</i> is the operating system process that determines the translation from virtual to physical memory addresses.</P>
<P>The <i>implicit thread</i> is the operating system thread that determines the target's registers, including <a href="dbg_glossary_b06af58a-5ee8-44e1-855d-951cac7e4969.xml.htm#81c37228-c201-48ad-9f7a-85d8b1ade52c">call stack</a>, <a href="dbg_glossary_5048ec26-b9ce-44eb-afe2-ebb3e1c9e47d.xml.htm#ab5b362b-84d0-4128-bd43-7e3d5014f81f">stack frame</a>, and instruction offset.</P>
<P>When an event occurs, the implicit thread and implicit process are initially set to the event thread and process; they can be changed while the session is accessible.</P>
<H4>Thread and Process Data</H4>
<P>The engine maintains several pieces of information about each thread and process.  This includes the system thread and process ID and system handles, and the process environment (PEB), the thread environment block (TEB), and their locations in target's memory.</P>
<H4>Additional Information</H4>
<P>For details about using thread and processes, see <a href="engine_dg_1442c778-acca-4b77-a596-6863ab5c8279.xml.htm">Controlling Threads and Processes</a>.</P>
<DIV style="display:yes"></DIV>
<DIV CLASS="footer"><br><A href="dbglegal.htm">© 2009 Microsoft Corporation</A><br><A href="mailto:windbgfb@microsoft.com?subject=documentation feedback [Debugger]: Threads and Processes RELEASE: (December 09, 2009)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AThe WDK team uses the feedback submitted to improve the WDK documentation. We do not use your e-mail address for any other purpose. We will remove your e-mail address from our system after the issue you are reporting has been resolved. While we are working to resolve this issue, we may send you an e-mail message to request more information about your feedback. After the issues have been addressed, we may send you an e-mail message to let you know that your feedback has been addressed.%0A%0AFor more information about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx.
              ">Send feedback on this topic</A><br>Debugging Tools for Windows<br>December 09, 2009<br></DIV>
</Body>
</HTML>
