<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN"><HTML DIR="LTR" xmlns:MSHelp="http://msdn.microsoft.com/MSHelp">
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<TITLE>Requesting Special Pool by Pool Tag</TITLE>
<META NAME="ms.locale" content="en-us">
<META NAME="DESCRIPTION" CONTENT="Debugger, Debugger, Design Guide, Requesting Special Pool by Pool Tag"><xml><MSHelp:Keyword Index="A" Term="GFlags_d489ceaf-72af-47bb-a355-06e6cd54e560.xml"/></xml><LINK REL="stylesheet" type="text/css" href="backsdk4.css"><SCRIPT src="langref.js"></SCRIPT><style>dd {margin-bottom:0em; margin-left:1.9em; }</style>
<style>.divclass {behavior:url(#default#savehistory);}</style>
<META NAME="save" CONTENT="history">
</HEAD>
<Body topmargin="0">
<DIV STYLE="display:none;"></DIV>
<DIV STYLE="display:none;"></DIV>
<TABLE CLASS="buttonbarshade" CELLSPACING="0" border="0"><TR><TD NOWRAP="true"> </TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING="0">
<TR ID="hdr">
<TD NOWRAP="true" CLASS="runninghead">Debugging Tools for Windows</TD>
</TR>
</TABLE>
<H1><A NAME="GFlags_d489ceaf-72af-47bb-a355-06e6cd54e560.xml"></A>Requesting Special Pool by Pool Tag</H1>
<P>You can request special pool for all allocations that use a specified pool tag. Only one pool tag on the system can be associated with kernel special pool requests at one time.</P>
<P>In Windows Vista and later versions of Windows, you can also use the command line to request special pool by pool tag. For information, see <a href="gflags_63e1eba1-7ac0-4577-b130-ed091210a4c6.xml.htm">GFlags Commands</a>.</P><B>To request special pool by pool tag</B><OL type="1"></OL><B></B><OL type="1">
<LI>Select the <b>System Registry</b> tab or the <b>Kernel Flags</b> tab.<P>On Windows Vista and later versions of Windows, this option is available on both tabs. On earlier versions of Windows, it is available only on the <b>System Registry</b> tab.</P>
</LI>
<LI>In the <b>Kernel Special Pool Tag</b> section, click <b>Text</b>, and then type a four-character pattern for the tag. <P>The tag can include the <b>?</b> (single character) and <b>*</b> (multiple characters) wildcard characters. For example, Fat* or Av?4.</P>
</LI>
<LI>The following illustration shows a tag entered as text on the System Registry tab.</LI>
<LI></LI><img src="gflags-specialpool-text.png"><LI>Click <b>Apply</b>.<P>When you click <b>Apply</b>, GFlags changes the selection from <b>Text</b> to <b>Hex</b> and displays the ASCII characters as hexadecimal values in reverse (lower endian) order. For example, if you type <b>Tag1</b>, GFlags displays the tag as <b>0x31676154</b> (1gaT). This is the way that it is stored in the registry and displayed by the debugger and other tools.</P>
<P>The following illustration shows the effect of clicking <b>Apply</b>.</P><img src="gflags-specialpool-hex.png"></LI>
</OL>
<P></P>
<H4>Comments</H4>
<P>To use this feature effectively, make sure that your driver or other kernel-mode program uses a unique pool tag. If you suspect that your driver is consuming all of the special pool, consider using multiple pool tags in your code. You can then test your driver several times, assigning special pool to one pool tag in each test.</P>
<P>Also, select a pool tag with a hexadecimal value that is greater than the page size of the system. For kernel mode code, if you enter a pool tag that has a value less than PAGE_SIZE, Gflags requests special pool for all allocations whose size is within the corresponding range <i>and</i> requests special pool for allocations with an equivalent pool tag. For example, if you select a size of <b>30</b>, special pool will be used for all allocations between 17 and 32 bytes in size, <i>and</i> for allocations with the pool tag 0x0030.</P>
<P></P>
<DIV style="display:yes"></DIV>
<DIV CLASS="footer"><br><A href="dbglegal.htm">© 2009 Microsoft Corporation</A><br><A href="mailto:windbgfb@microsoft.com?subject=documentation feedback [Debugger]: Requesting Special Pool by Pool Tag RELEASE: (December 09, 2009)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AThe WDK team uses the feedback submitted to improve the WDK documentation. We do not use your e-mail address for any other purpose. We will remove your e-mail address from our system after the issue you are reporting has been resolved. While we are working to resolve this issue, we may send you an e-mail message to request more information about your feedback. After the issues have been addressed, we may send you an e-mail message to let you know that your feedback has been addressed.%0A%0AFor more information about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx.
              ">Send feedback on this topic</A><br>Debugging Tools for Windows<br>December 09, 2009<br></DIV>
</Body>
</HTML>
