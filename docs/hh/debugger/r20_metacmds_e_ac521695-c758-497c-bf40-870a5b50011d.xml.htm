<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN"><HTML DIR="LTR" xmlns:MSHelp="http://msdn.microsoft.com/MSHelp">
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<TITLE>.kdfiles (Set Driver Replacement Map)</TITLE>
<META NAME="ms.locale" content="en-us">
<META NAME="DESCRIPTION" CONTENT="Debugger, Debugger, Design Guide, .kdfiles (Set Driver Replacement Map)"><xml><MSHelp:Keyword Index="A" Term="r20_metacmds_E_ac521695-c758-497c-bf40-870a5b50011d.xml"/>
<META NAME="MS-HKWD" CONTENT=".kdfiles (Set Driver Replacement Map) command">
<META NAME="MS-HKWD" CONTENT="Set Driver Replacement Map (.kdfiles) command">
<META NAME="MS-HKWD" CONTENT="driver replacement map, Set Driver Replacement Map (.kdfiles) command"></xml><LINK REL="stylesheet" type="text/css" href="backsdk4.css"><SCRIPT src="langref.js"></SCRIPT><style>dd {margin-bottom:0em; margin-left:1.9em; }</style>
<style>.divclass {behavior:url(#default#savehistory);}</style>
<META NAME="save" CONTENT="history">
</HEAD>
<Body topmargin="0">
<DIV STYLE="display:none;"></DIV>
<DIV STYLE="display:none;"></DIV>
<TABLE CLASS="buttonbarshade" CELLSPACING="0" border="0"><TR><TD NOWRAP="true"> </TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING="0">
<TR ID="hdr">
<TD NOWRAP="true" CLASS="runninghead">Debugging Tools for Windows</TD>
</TR>
</TABLE>
<H1><A NAME="r20_metacmds_E_ac521695-c758-497c-bf40-870a5b50011d.xml"></A>.kdfiles (Set Driver Replacement Map)</H1>
<P>The <b>.kdfiles</b> command reads a file and uses its contents as the driver replacement map.</P>
<H4>Syntax</H4>
<P style="background:#dddddd;cursor:text;padding:2pt,4pt;font: 100% Courier New, Courier, mono;"><nobr><b>.kdfiles</b> <i>MapFile</i> <BR><b>.kdfiles</b> <b>-m</b> <i>OldDriver</i> <i>NewDriver</i><BR><b>.kdfiles</b> <b>-s</b> <i>SaveFile</i> <BR><b>.kdfiles -c</b> <BR><b>.kdfiles</b> <BR><BR></nobr></P>
<DL><H4>Parameters</H4>
<DT><i>MapFile</i></DT>
<DD>Specifies the driver replacement map file to read.</DD>
<DT><b>-m</b></DT>
<DD>Adds a driver replacement association to the current association list.</DD>
<DT><i>OldDriver</i></DT>
<DD>Specifies the path and file name of the previous driver on the target computer. The syntax for <i>OldDriver</i> is the same as that of the first line after <b>map</b> in a driver replacement file. For more information about this syntax, see <a href="r07_use_operation_3272ec07-4f0a-4675-8ab0-6f802315a1ee.xml.htm">Mapping Driver Files</a>.</DD>
<DT><i>NewDriver</i></DT>
<DD>Specifies the path and file name of the new driver. This driver can be on the host computer or at some other network location. The syntax for <i>NewDriver</i> is the same as that of the second line after <b>map</b> in a driver replacement file. For more information about this syntax, see <a href="r07_use_operation_3272ec07-4f0a-4675-8ab0-6f802315a1ee.xml.htm">Mapping Driver Files</a>.</DD>
<DT><b>-s</b></DT>
<DD>Creates a file and writes the current driver replacement associations to that file.</DD>
<DT><i>SaveFile</i></DT>
<DD>Specifies the name of the file to create.</DD>
<DT><b>-c</b></DT>
<DD>Deletes the existing driver replacement map. (This option does not alter the map file itself. Instead, this option clears the debugger's current map settings.)</DD>
</DL>
<H4>Environment</H4>
<P>You can use the <b>.kdfiles</b> command in Microsoft Windows XP and later versions of Windows. If you use this command in earlier versions of Windows, the command has no effect and does not generate an error.</P><B></B><table>
<TR valign="top">
<TD Width=""><b>Modes</b></TD>
<TD Width="">Kernel mode only</TD>
</TR>
<TR valign="top">
<TD Width=""><b>Targets</b></TD>
<TD Width="">Live debugging only</TD>
</TR>
<TR valign="top">
<TD Width=""><b>Platforms</b></TD>
<TD Width="">x86-based and Itanium-based processors only</TD>
</TR>
</table>
<P></P>
<H4>Comments</H4>
<P>If you use the <b>.kdfiles</b> command without parameters, the debugger displays the path and name of the current driver replacement map file and the current set of replacement associations.    </P>
<P>When you run this command, the specified <i>MapFile </i>file is read. If the file is not found or if it does not contain text in the proper format, the debugger displays a message that states, "Unable to load file associations".</P>
<P>If the specified file is in the correct driver replacement map file format, the debugger loads the file's contents and uses them as the driver replacement map. This map remains until you exit the debugger, or until you issue another <b>.kdfiles</b> command.</P>
<P>After the file has been read, the driver replacement map is not affected by subsequent changes to the file (unless these changes are followed by another <b>.kdfiles</b> command).</P>
<H4><b>Requirements</b></H4>
<p><b>Versions:</b> Supported in Windows XP and later versions of the Windows operating system.</p>
<H4>Additional Information</H4>
<P>For more information about and examples of driver replacement and the replacement of other kernel-mode modules, a description of the format for driver replacement map files, and restrictions for using this feature, see <a href="r07_use_operation_3272ec07-4f0a-4675-8ab0-6f802315a1ee.xml.htm">Mapping Driver Files</a>.</P>
<DIV style="display:yes"></DIV>
<DIV CLASS="footer"><br><A href="dbglegal.htm">© 2009 Microsoft Corporation</A><br><A href="mailto:windbgfb@microsoft.com?subject=documentation feedback [Debugger]: .kdfiles (Set Driver Replacement Map) RELEASE: (December 09, 2009)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AThe WDK team uses the feedback submitted to improve the WDK documentation. We do not use your e-mail address for any other purpose. We will remove your e-mail address from our system after the issue you are reporting has been resolved. While we are working to resolve this issue, we may send you an e-mail message to request more information about your feedback. After the issues have been addressed, we may send you an e-mail message to let you know that your feedback has been addressed.%0A%0AFor more information about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx.
              ">Send feedback on this topic</A><br>Debugging Tools for Windows<br>December 09, 2009<br></DIV>
</Body>
</HTML>
