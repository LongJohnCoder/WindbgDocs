<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN"><HTML DIR="LTR" xmlns:MSHelp="http://msdn.microsoft.com/MSHelp">
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<TITLE>!filecache</TITLE>
<META NAME="ms.locale" content="en-us">
<META NAME="DESCRIPTION" CONTENT="Debugger, Debugger, Design Guide, !filecache"><xml><MSHelp:Keyword Index="A" Term="r27_exts_kernel_E_437f7b0c-9c9a-4c10-a758-0df801c7c5dc.xml"/>
<META NAME="MS-HKWD" CONTENT="!filecache extension">
<META NAME="MS-HKWD" CONTENT="file cache"></xml><LINK REL="stylesheet" type="text/css" href="backsdk4.css"><SCRIPT src="langref.js"></SCRIPT><style>dd {margin-bottom:0em; margin-left:1.9em; }</style>
<style>.divclass {behavior:url(#default#savehistory);}</style>
<META NAME="save" CONTENT="history">
</HEAD>
<Body topmargin="0">
<DIV STYLE="display:none;"></DIV>
<DIV STYLE="display:none;"></DIV>
<TABLE CLASS="buttonbarshade" CELLSPACING="0" border="0"><TR><TD NOWRAP="true"> </TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING="0">
<TR ID="hdr">
<TD NOWRAP="true" CLASS="runninghead">Debugging Tools for Windows</TD>
</TR>
</TABLE>
<H1><A NAME="r27_exts_kernel_E_437f7b0c-9c9a-4c10-a758-0df801c7c5dc.xml"></A>!filecache</H1>
<P>The <b>!filecache</b> extension displays information regarding the system file cache memory and PTE use.</P>
<H4>Syntax</H4>
<P style="background:#dddddd;cursor:text;padding:2pt,4pt;font: 100% Courier New, Courier, mono;"><nobr><b>!filecache</b> <BR></nobr></P>
<P></P>
<P></P>
<P></P>
<H4>DLL</H4><B></B><table>
<TR valign="top">
<TD Width=""><b>Windows 2000</b></TD>
<TD Width=""><i>Kdextx86.dll</i> </TD>
</TR>
<TR valign="top">
<TD Width=""><b>Windows XP and later</b></TD>
<TD Width=""><i>Kdexts.dll</i> </TD>
</TR>
</table>
<P></P>
<P></P>
<H4>Comments</H4>
<P>Each line of this extension's output represents a virtual address control block (VACB). When named files are mapped into the VACB, the names of these files are displayed. If "no name for file" is specified, this means that this VACB is being used to cache metadata.</P>
<P>Here is an example from a Windows 2000 system:</P>
<P style="cursor:text; padding:2pt,4pt;font: 100% Courier New, Courier, mono; color: #660000;"><nobr>kd&gt;<b> !filecache</b><BR>***** Dump file cache******<BR>File Cache Information<BR>  Current size 7088 kb<BR>  Peak size    11376 kb<BR> loading file cache database...<BR>  File cache has 129 valid pages<BR>Usage Summary in KiloBytes (Kb):<BR>Control Valid Standby Dirty Shared Locked PageTables  name<BR>80994c08   248      0     0     0     0     0    No Name for File<BR>80995c88   528      0     0     0     0     0    No Name for File<BR>80992a28   120      0     0     0     0     0    No Name for File<BR>80993d28    32      0     0     0     0     0    No Name for File<BR>8098c1e8     8      0     0     0     0     0    mapped_file( SysEvent.Evt )<BR>8091a908     8      0     0     0     0     0    No Name for File<BR>8091d708    16      0     0     0     0     0    No Name for File<BR>80992f08     8      0     0     0     0     0    No Name for File<BR>8098ca48     8      0     0     0     0     0    No Name for File<BR>80949ea8     8      0     0     0     0     0    No Name for File<BR>80992828    16      0     0     0     0     0    No Name for File<BR>8155c688     8      0     0     0     0     0    mapped_file( cmd.exe )<BR><BR></nobr></P>
<P>Here is an example of the output from this extension from a Windows XP system:</P>
<P style="cursor:text; padding:2pt,4pt;font: 100% Courier New, Courier, mono; color: #660000;"><nobr>kd&gt; <b>!filecache</b><BR>***** Dump file cache******<BR>  Reading and sorting VACBs ...<BR>  Removed 1811 nonactive VACBs, processing 235 active VACBs ...<BR>File Cache Information<BR>  Current size 28256 kb<BR>  Peak size    30624 kb<BR>  235 Control Areas<BR>Skipping view @ c1040000 - no VACB, but PTE is valid!<BR>  Loading file cache database (100% of 131072 PTEs)<BR>  SkippedPageTableReads = 44<BR>  File cache has 4056 valid pages<BR> <BR><BR>  Usage Summary (in Kb):<BR>Control Valid Standby/Dirty Shared Locked Name<BR>817da668     4      0     0     0  $MftMirr<BR>8177ae68   304    920     0     0  $LogFile<BR>81776160   188      0     0     0  $BitMap<BR>817cf370     4      0     0     0  $Mft<BR>81776a00     8      0     0     0  $Directory<BR>817cfdd0     4      0     0     0  $Directory<BR>81776740    36      0     0     0    No Name for File<BR>817cf7c8    20      0     0     0  $Directory<BR>817cfb98   304      0     0     0  $Directory<BR>8177be40    16      0     0     0  $Directory<BR>817dadc0  2128     68     0     0  $Mft<BR>817cf008     4      0     0     0  $Directory<BR>817d0258     8      4     0     0  $Directory<BR>817763f8     4      0     0     0  $Directory<BR>...<BR>8173f058     4      0     0     0  $Directory<BR>8173e628    32      0     0     0  $Directory<BR>8173e4c8    32      0     0     0  $Directory<BR>8173da38     4      0     0     0  $Directory<BR>817761f8     4      0     0     0  $Directory<BR>81740530    32      0     0     0  $Directory<BR>8173d518     4      0     0     0  $Directory<BR>817d9560     8      0     0     0  $Directory<BR>8173f868     4      0     0     0  $Directory<BR>8173fc00     4      0     0     0  $Directory<BR>81737278     4      0     0     0  $MftMirr<BR>81737c88    44      0     0     0  $LogFile<BR>81735fa0    48      0     0     0  $Mft<BR>81737e88   188      0     0     0  $BitMap<BR>817380b0     4      0     0     0  $Mft<BR>817399e0     4      0     0     0  $Directory<BR>817382b8     4      0     0     0  $Directory<BR>817388d8    12      0     0     0    No Name for File<BR>81735500     8      0     0     0  $Directory<BR>81718e38   232      0     0     0  default<BR>81735d40    48     20     0     0  SECURITY<BR>81723008  8632      0     0     0  software<BR>816da3a0    24     44     0     0  SAM<BR>8173dfa0     4      0     0     0  $Directory<BR>...<BR>8173ba90     4      0     0     0  $Directory<BR>8170ee30     4     36     4     0  AppEvent.Evt<BR>816223f8     4      0     0     0  $Directory<BR>8170ec28     8     28     4     0  SecEvent.Evt<BR>816220a8     4      0     0     0  $Directory<BR>8170ea20     4     32     4     0  SysEvent.Evt<BR>8170d188   232      0     0     0  NTUSER.DAT<BR>81709f10     8      0     0     0  UsrClass.dat<BR>81708918   232      0     0     0  NTUSER.DAT<BR>81708748     8      0     0     0  UsrClass.dat<BR>816c58f8    12      0     0     0  change.log<BR>815c3880     4      0     0     0  $Directory<BR>81706aa8     4      0     0     0  SchedLgU.Txt<BR>815ba2d8     4      0     0     0  $Directory<BR>815aa5f8     8      0     0     0  $Directory<BR>8166d728    44      0     0     0  Netlogon.log<BR>81701120     8     16     4     0  es.dll<BR>816ff0a8     4      8     4     0  stdole2.tlb<BR>8159a358     4      0     0     0  $Directory<BR>8159da70     4      0     0     0  $Directory<BR>8159c158     4      0     0     0  $Directory<BR>815cb9b0     4      0     0     0  00000001<BR>81779b20     4      0     0     0  $Directory<BR>8159ac20     4      0     0     0  $Directory<BR>815683f8     4      0     0     0  $Directory<BR>81566978   580      0     0     0  NTUSER.DAT<BR>81568460     4      0     0     0  $Directory<BR>815675d8    68      0     0     0  UsrClass.dat<BR>81567640     4      0     0     0  $Directory<BR>...<BR>81515878     4      0     0     0  $Directory<BR>81516870     8      0     0     0  $Directory<BR>8150df60     4      0     0     0  $Directory<BR>...<BR>816e5300     4      0     0     0  $Directory<BR>8152afa0    16    212     0     0  msmsgs.exe<BR>8153bbd8     4     32     0     0  stdole32.tlb<BR>8172f950   488    392     0     0  OBJECTS.DATA<BR>8173e9c0     4      0     0     0  $Directory<BR>814f4538     4      0     0     0  $Directory<BR>81650790   344     48     0     0  INDEX.BTR<BR>814f55f8     4      0     0     0  $Directory<BR>...<BR>814caef8     4      0     0     0  $Directory<BR>8171cd90  1392     36     0     0  system<BR>815f07f0     4      0     0     0  $Directory<BR>814a2298     4      0     0     0  $Directory<BR>81541538     4      0     0     0  $Directory<BR>81585288    28      0     0     0  $Directory<BR>8173f708     4      0     0     0  $Directory<BR>...<BR>8158cf10     4      0     0     0  $Directory<BR><BR></nobr></P>
<P></P>
<H4>Additional Information</H4>
<P>For information about file system drivers, see the Windows Driver Kit (WDK) documentation and <i>Microsoft Windows Internals</i> by Mark Russinovich and David Solomon.</P>
<P></P>
<DIV style="display:yes"></DIV>
<DIV CLASS="footer"><br><A href="dbglegal.htm">© 2009 Microsoft Corporation</A><br><A href="mailto:windbgfb@microsoft.com?subject=documentation feedback [Debugger]: !filecache RELEASE: (December 09, 2009)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AThe WDK team uses the feedback submitted to improve the WDK documentation. We do not use your e-mail address for any other purpose. We will remove your e-mail address from our system after the issue you are reporting has been resolved. While we are working to resolve this issue, we may send you an e-mail message to request more information about your feedback. After the issues have been addressed, we may send you an e-mail message to let you know that your feedback has been addressed.%0A%0AFor more information about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx.
              ">Send feedback on this topic</A><br>Debugging Tools for Windows<br>December 09, 2009<br></DIV>
</Body>
</HTML>
