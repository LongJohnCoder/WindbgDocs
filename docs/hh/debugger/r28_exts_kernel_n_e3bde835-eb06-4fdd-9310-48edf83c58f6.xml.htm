<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN"><HTML DIR="LTR" xmlns:MSHelp="http://msdn.microsoft.com/MSHelp">
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<TITLE>!pcitree</TITLE>
<META NAME="ms.locale" content="en-us">
<META NAME="DESCRIPTION" CONTENT="Debugger, Debugger, Design Guide, !pcitree"><xml><MSHelp:Keyword Index="A" Term="r28_exts_kernel_N_e3bde835-eb06-4fdd-9310-48edf83c58f6.xml"/>
<META NAME="MS-HKWD" CONTENT="!pcitree extension">
<META NAME="MS-HKWD" CONTENT="PCI bus">
<META NAME="MS-HKWD" CONTENT="PCI device"></xml><LINK REL="stylesheet" type="text/css" href="backsdk4.css"><SCRIPT src="langref.js"></SCRIPT><style>dd {margin-bottom:0em; margin-left:1.9em; }</style>
<style>.divclass {behavior:url(#default#savehistory);}</style>
<META NAME="save" CONTENT="history">
</HEAD>
<Body topmargin="0">
<DIV STYLE="display:none;"></DIV>
<DIV STYLE="display:none;"></DIV>
<TABLE CLASS="buttonbarshade" CELLSPACING="0" border="0"><TR><TD NOWRAP="true"> </TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING="0">
<TR ID="hdr">
<TD NOWRAP="true" CLASS="runninghead">Debugging Tools for Windows</TD>
</TR>
</TABLE>
<H1><A NAME="r28_exts_kernel_N_e3bde835-eb06-4fdd-9310-48edf83c58f6.xml"></A>!pcitree</H1>
<P>The <b>!pcitree</b> extension displays information about PCI device objects, including child PCI buses and CardBus buses, and the devices attached to them.<P></P>
</P>
<H4>Syntax</H4>
<P style="background:#dddddd;cursor:text;padding:2pt,4pt;font: 100% Courier New, Courier, mono;"><nobr><b>!pcitree</b> <BR></nobr></P>
<P></P>
<H4>DLL</H4><B></B><table>
<TR valign="top">
<TD Width=""><b>Windows 2000</b></TD>
<TD Width=""><i>Kdextx86.dll</i> </TD>
</TR>
<TR valign="top">
<TD Width=""><b>Windows XP and later</b></TD>
<TD Width=""><i>Kdexts.dll</i> </TD>
</TR>
</table>
<P></P>
<P></P>
<H4>Comments</H4>
<P>Here is an example:</P>
<P style="cursor:text; padding:2pt,4pt;font: 100% Courier New, Courier, mono; color: #660000;"><nobr>kd&gt; <b>!pcitree</b><BR><BR>Bus 0x0 (FDO Ext fe517338)<BR>  0600 12378086 (d=0,  f=0) devext fe4f4ee8 Bridge/HOST to PCI<BR>  0601 70008086 (d=d,  f=0) devext fe4f4ce8 Bridge/PCI to ISA<BR>  0101 70108086 (d=d,  f=1) devext fe4f4ae8 Mass Storage Controller/IDE<BR>  0604 00211011 (d=e,  f=0) devext fe4f4788 Bridge/PCI to PCI<BR><BR>Bus 0x1 (FDO Ext fe516998)<BR>  0200 905010b7 (d=8,  f=0) devext fe515ee8 Network Controller/Ethernet<BR>  0100 81789004 (d=9,  f=0) devext fe515ce8 Mass Storage Controller/SCSI<BR>  0300 0519102b (d=10, f=0) devext fe4f4428 Display Controller/VGA<BR><BR>Total PCI Root busses processed = 1<BR><BR></nobr></P>
<P>To understand this display, consider the final device shown. Its base class is 03, its subclass is 00, its Device ID is 0x0519, and its Vendor ID is 0x102B. These values are all intrinsic to the device itself.</P>
<P>The number after "d=" is the device number; the number after "f=" is the function number. After "devext" is the device extension address, 0xFE4F4428. Finally, the base class name and the subclass name appear.</P>
<P>To obtain more information about a device, use the <b>!devext</b> extension command with the device extension address as the argument. For this particular device, the command to use would be:</P>
<P style="cursor:text; padding:2pt,4pt;font: 100% Courier New, Courier, mono; color: #660000;"><nobr>kd&gt; <b>!devext fe4f4428 pci</b> <BR><BR></nobr></P>
<P>If the <b>!pcitree</b> extension generates an error, this often means that your PCI symbols were not loaded properly. Use <a href="r21_metacmds_l_2fb08e4b-4d29-45cb-a63c-4222a7a29abc.xml.htm"><b>.reload pci.sys</b></a> to fix this problem.</P>
<H4>Additional Information</H4>
<P>See <a href="t12_drivers_ba75fa45-397b-473d-88dc-c5e0d598456a.xml.htm">Plug and Play Debugging</a> for applications of this extension command. For information about PCI buses and PCI device objects, see the Windows Driver Kit (WDK) documentation.   </P>
<P></P>
<DIV style="display:yes"></DIV>
<DIV CLASS="footer"><br><A href="dbglegal.htm">© 2009 Microsoft Corporation</A><br><A href="mailto:windbgfb@microsoft.com?subject=documentation feedback [Debugger]: !pcitree RELEASE: (December 09, 2009)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AThe WDK team uses the feedback submitted to improve the WDK documentation. We do not use your e-mail address for any other purpose. We will remove your e-mail address from our system after the issue you are reporting has been resolved. While we are working to resolve this issue, we may send you an e-mail message to request more information about your feedback. After the issues have been addressed, we may send you an e-mail message to let you know that your feedback has been addressed.%0A%0AFor more information about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx.
              ">Send feedback on this topic</A><br>Debugging Tools for Windows<br>December 09, 2009<br></DIV>
</Body>
</HTML>
