<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN"><HTML DIR="LTR" xmlns:MSHelp="http://msdn.microsoft.com/MSHelp">
<HEAD>
<META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<TITLE>DEBUG_STACK_FRAME</TITLE>
<META NAME="ms.locale" content="en-us">
<META NAME="DESCRIPTION" CONTENT="Debugger, Debugger, Design Guide, DEBUG_STACK_FRAME"><xml><MSHelp:Attr Name="TopicType" Value="apiref"/>
<MSHelp:Attr Name="TargetOS" Value="Windows"/>
<MSHelp:Attr Name="APIType" Value="Function"/>
<MSHelp:Attr Name="APILocation" Value="dbgeng.h"/>
<MSHelp:Attr Name="APIName" Value="DEBUG_STACK_FRAME"/>
<MSHelp:Keyword Index="A" Term="Structures_219fad76-6f80-429d-b0ff-0f5443a9263b.xml"/>
<META NAME="MS-HKWD" CONTENT="DEBUG_STACK_FRAME structure"></xml><LINK REL="stylesheet" type="text/css" href="backsdk4.css"><SCRIPT src="langref.js"></SCRIPT><style>dd {margin-bottom:0em; margin-left:1.9em; }</style>
<style>.divclass {behavior:url(#default#savehistory);}</style>
<META NAME="save" CONTENT="history">
</HEAD>
<Body topmargin="0">
<DIV STYLE="display:none;"></DIV>
<DIV STYLE="display:none;"></DIV>
<TABLE CLASS="buttonbarshade" CELLSPACING="0" border="0"><TR><TD NOWRAP="true"> </TD></TR></TABLE>
<TABLE CLASS="buttonbartable" CELLSPACING="0">
<TR ID="hdr">
<TD NOWRAP="true" CLASS="runninghead">Debugging Tools for Windows</TD>
</TR>
</TABLE>
<H1><A NAME="Structures_219fad76-6f80-429d-b0ff-0f5443a9263b.xml"></A>DEBUG_STACK_FRAME</H1>
<P><P>The DEBUG_STACK_FRAME structure describes a stack frame and the address of the current instruction for the stack frame. </P>
</P>
<P class="syntax" style="background:#dddddd;cursor:text;padding:2pt,4pt;font: 100% Courier New, Courier, mono;"><b>typedef struct _DEBUG_STACK_FRAME</b><BR><b>{</b><BR><b>    ULONG64  InstructionOffset;</b><BR><b>    ULONG64  ReturnOffset;</b><BR><b>    ULONG64  FrameOffset;</b><BR><b>    ULONG64  StackOffset;</b><BR><b>    ULONG64  FuncTableEntry;</b><BR><b>    ULONG64  Params[4];</b><BR><b>    ULONG64  Reserved[6];</b><BR><b>    BOOL  Virtual;</b><BR><b>    ULONG  FrameNumber;</b><BR><b>} DEBUG_STACK_FRAME, *PDEBUG_STACK_FRAME;</b><BR></P>
<DL><H4>Members</H4>
<DT><b>InstructionOffset</b></DT>
<DD>The location in the process's virtual address space of the related instruction for the stack frame.  This is typically the return address for the next stack frame, or the current instruction pointer if the frame is at the top of the stack.  </DD>
<DT><b>ReturnOffset</b></DT>
<DD>The location in the process's virtual address space of the return address for the stack frame.  This is typically the related instruction for the previous stack frame.</DD>
<DT><b>FrameOffset</b></DT>
<DD>The location in the process's virtual address space of the stack frame, if known.  Some processor architectures do not have a frame or have more than one.  In these cases, the engine chooses a value most representative for the given level of the stack.</DD>
<DT><b>StackOffset</b></DT>
<DD>The location in the process's virtual address space of the processor stack.</DD>
<DT><b>FuncTableEntry</b></DT>
<DD>The location in the target's virtual address space of the function entry for this frame, if available. When set, this pointer is not guaranteed to remain valid indefinitely and should not be held for future use.  Instead, save the value of <i>InstructionOffset</i> and use it with <a href="idebugsymbols_2f48c855-76e5-421c-8890-9a96a0468783.xml.htm"><b>IDebugSymbols3::GetFunctionEntryByOffset</b></a> to retrieve function entry information later. </DD>
<DT><b>Params</b></DT>
<DD>The values of the first four stack slots that are passed to the function, if available.  If there are less than four arguments, the remaining entries are set to zero.  These stack slots are not guaranteed to contain parameter values.  Some calling conventions and compiler optimizations might interfere with identification of parameter information.  For more detailed argument information and proper location handling, use <a href="idebugsymbols_a51f6be3-09dc-48a4-ae45-149fea6bfb1b.xml.htm"><b>IDebugSymbols::GetScopeSymbolGroup</b></a> to retrieve the actual parameter symbols.</DD>
<DT><b>Reserved</b></DT>
<DD>Reserved for future use.</DD>
<DT><b>Virtual</b></DT>
<DD>The value is set to TRUE if this stack frame was generated by the debugger by unwinding.  Otherwise, the value is FALSE if it was formed from a thread&#8217;s current context.  Typically, this is TRUE for the frame at the top of the stack, where <b>InstructionOffset</b> is the current instruction pointer.</DD>
<DT><b>FrameNumber</b></DT>
<DD>The index of the frame.  This index counts the number of frames from the top of the call stack.  The frame at the top of the stack, representing the current call, has index zero.</DD>
</DL>
<H4><b>Requirements</b></H4>
<p><b>Headers: </b>Defined in <i>DbgEng.h</i>.  Include <i>DbgEng.h</i>.</p>
<DIV style="display:yes"></DIV>
<DIV CLASS="footer"><br><A href="dbglegal.htm">© 2009 Microsoft Corporation</A><br><A href="mailto:windbgfb@microsoft.com?subject=documentation feedback [Debugger]: DEBUG_STACK_FRAME RELEASE: (December 09, 2009)&amp;body=%0A%0APRIVACY STATEMENT%0A%0AThe WDK team uses the feedback submitted to improve the WDK documentation. We do not use your e-mail address for any other purpose. We will remove your e-mail address from our system after the issue you are reporting has been resolved. While we are working to resolve this issue, we may send you an e-mail message to request more information about your feedback. After the issues have been addressed, we may send you an e-mail message to let you know that your feedback has been addressed.%0A%0AFor more information about Microsoft's privacy policy, see http://privacy.microsoft.com/en-us/default.aspx.
              ">Send feedback on this topic</A><br>Debugging Tools for Windows<br>December 09, 2009<br></DIV>
</Body>
</HTML>
